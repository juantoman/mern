{"ast":null,"code":"var _jsxFileName = \"/home/juantoman/projectes/mern/client2/src/pages/MoviesList.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../api';\nimport { useQuery } from 'react-query';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DeleteMovie = props => {\n  const deleteMovie = () => {\n    if (window.confirm(`Do tou want to delete the movie ${props.id} permanently?`)) {\n      api.deleteMovieById(props.id); //window.location.reload()\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: deleteMovie,\n    children: \"Delete\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this);\n};\n\n_c = DeleteMovie;\n\nconst UpdateMovie = props => {\n  return /*#__PURE__*/_jsxDEV(Link, {\n    to: {\n      pathname: `/movies/update/${props.id}`\n    },\n    children: \"Update\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = UpdateMovie;\n\nconst MoviesList = () => {\n  _s();\n\n  const {\n    data,\n    error,\n    isError,\n    isLoading\n  } = useQuery('movies', api.getAllMovies); // first argument is a string to cache and track the query result\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 14\n    }, this);\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error! \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 14\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"table\",\n      style: {\n        marginTop: '100px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"rating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data.data.data.map((movie, index) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"row\",\n              children: movie._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: movie.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: movie.rating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: movie.time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(DeleteMovie, {\n                id: movie._id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(UpdateMovie, {\n                id: movie._id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MoviesList, \"3oWWsSDG4yDO8cM/R9Iw4fcKKCk=\", false, function () {\n  return [useQuery];\n});\n\n_c3 = MoviesList;\nexport default MoviesList;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DeleteMovie\");\n$RefreshReg$(_c2, \"UpdateMovie\");\n$RefreshReg$(_c3, \"MoviesList\");","map":{"version":3,"sources":["/home/juantoman/projectes/mern/client2/src/pages/MoviesList.jsx"],"names":["React","Link","api","useQuery","DeleteMovie","props","deleteMovie","window","confirm","id","deleteMovieById","UpdateMovie","pathname","MoviesList","data","error","isError","isLoading","getAllMovies","message","marginTop","map","movie","index","_id","name","rating","time"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\nimport api from '../api'\nimport {useQuery} from 'react-query'\n\nconst DeleteMovie = props => {\n    const deleteMovie = () => {\n      if (\n        window.confirm(\n            `Do tou want to delete the movie ${props.id} permanently?`,\n        )\n    ) {\n        api.deleteMovieById(props.id)\n        //window.location.reload()\n    }\n    }\n\n    return (\n        <button onClick={deleteMovie}>Delete</button>\n    )\n}\n\nconst UpdateMovie = props => {\n  return (\n    <Link to={{pathname: `/movies/update/${props.id}`}}>Update</Link>\n  )\n}\n\nconst MoviesList = () => {\n\n  const {data, error, isError, isLoading } = useQuery('movies', api.getAllMovies)\n    // first argument is a string to cache and track the query result\n  if(isLoading){\n      return <div>Loading...</div>\n  }\n  if(isError){\n      return <div>Error! {error.message}</div>\n  }\n\n  return (\n    <div>\n      <table class=\"table\" style={{marginTop:'100px'}}>\n        <thead>\n          <tr>\n            <th scope=\"col\">id</th>\n            <th scope=\"col\">name</th>\n            <th scope=\"col\">rating</th>\n            <th scope=\"col\">time</th>\n            <th scope=\"col\">delete</th>\n            <th scope=\"col\">update</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            data.data.data.map((movie, index) => {\n                return (\n                  <tr key={index}>\n                    <th scope=\"row\">{movie._id}</th>\n                    <td>{movie.name}</td>\n                    <td>{movie.rating}</td>\n                    <td>{movie.time}</td>\n                    <td>\n                      <DeleteMovie id={movie._id} />\n                    </td>\n                    <td>\n                      <UpdateMovie id={movie._id} />\n                    </td>\n                  </tr>\n                )\n            })\n          }\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default MoviesList\n"]},"metadata":{},"sourceType":"module"}