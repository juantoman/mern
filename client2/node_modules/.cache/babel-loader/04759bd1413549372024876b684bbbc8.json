{"ast":null,"code":"var _jsxFileName = \"/home/juantoman/projectes/mern/client2/src/pages/MoviesUpdate.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState, useEffect } from 'react';\nimport api from '../api';\nimport { useParams } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Title = styled.h1.attrs({\n  className: 'h1'\n})``;\nconst Wrapper = styled.div.attrs({\n  className: 'form-group'\n})`\n    margin: 0 30px;\n`;\nconst Label = styled.label`\n    margin: 5px;\n`;\nconst InputText = styled.input.attrs({\n  className: 'form-control'\n})`\n    margin: 5px;\n`;\nconst Button = styled.button.attrs({\n  className: `btn btn-primary`\n})`\n    margin: 15px 15px 15px 5px;\n`;\nconst CancelButton = styled.a.attrs({\n  className: `btn btn-danger`\n})`\n    margin: 15px 15px 15px 5px;\n`; //\n\nconst MoviesUpdate = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [movie, setMovie] = useState({});\n  useEffect(() => {\n    async function fetchMyAPI() {\n      let loadedMovie = await api.getMovieById(id);\n      setMovie(loadedMovie.data.data);\n    }\n\n    fetchMyAPI();\n  }, []);\n\n  const handleUpdateMovie = async () => {\n    const {\n      _id,\n      name,\n      rating,\n      time\n    } = movie;\n    const arrayTime = time;\n    const payload = {\n      name,\n      rating,\n      time: arrayTime\n    };\n    await api.updateMovieById(id, payload).then(res => {\n      window.alert(`Movie updated successfully`);\n    });\n  };\n\n  const gestionarCampo = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setMovie({ ...movie,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-group\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Update Movie\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Name: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: movie.name,\n      onChange: gestionarCampo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Rating: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"rating\",\n      step: \"0.1\",\n      lang: \"en-US\",\n      min: \"0\",\n      max: \"10\",\n      pattern: \"[0-9]+([,\\\\.][0-9]+)?\",\n      value: movie.rating,\n      onChange: gestionarCampo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Time: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"time\",\n      value: movie.time,\n      onChange: gestionarCampo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpdateMovie,\n      children: \"Update Movie\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/movies/list\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MoviesUpdate, \"W+pml9eJHpT4wDcROTVJVy4d+Xk=\", false, function () {\n  return [useParams];\n});\n\n_c = MoviesUpdate;\nexport default MoviesUpdate;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoviesUpdate\");","map":{"version":3,"sources":["/home/juantoman/projectes/mern/client2/src/pages/MoviesUpdate.jsx"],"names":["React","Component","useState","useEffect","api","useParams","Link","Title","styled","h1","attrs","className","Wrapper","div","Label","label","InputText","input","Button","button","CancelButton","a","MoviesUpdate","id","movie","setMovie","fetchMyAPI","loadedMovie","getMovieById","data","handleUpdateMovie","_id","name","rating","time","arrayTime","payload","updateMovieById","then","res","window","alert","gestionarCampo","event","value","target"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react'\nimport api from '../api'\nimport { useParams } from 'react-router';\nimport { Link } from 'react-router-dom'\n\nconst Title = styled.h1.attrs({\n    className: 'h1',\n})``\n\nconst Wrapper = styled.div.attrs({\n    className: 'form-group',\n})`\n    margin: 0 30px;\n`\n\nconst Label = styled.label`\n    margin: 5px;\n`\n\nconst InputText = styled.input.attrs({\n    className: 'form-control',\n})`\n    margin: 5px;\n`\n\nconst Button = styled.button.attrs({\n    className: `btn btn-primary`,\n})`\n    margin: 15px 15px 15px 5px;\n`\n\nconst CancelButton = styled.a.attrs({\n    className: `btn btn-danger`,\n})`\n    margin: 15px 15px 15px 5px;\n`\n\n//\n\nconst MoviesUpdate = () => {\n  const { id } = useParams();\n  const [movie, setMovie] = useState({});\n\n   useEffect(() => {\n     async function fetchMyAPI() {\n      let loadedMovie = await api.getMovieById(id)\n      setMovie(loadedMovie.data.data)\n    }\n     fetchMyAPI()\n   },[]);\n\n  const handleUpdateMovie = async () => {\n      const { _id, name, rating, time } = movie\n      const arrayTime = time\n      const payload = { name, rating, time: arrayTime }\n\n      await api.updateMovieById(id, payload).then(res => {\n          window.alert(`Movie updated successfully`)\n      })\n  }\n\n  const gestionarCampo = (event) => {\n    const { name, value } = event.target;\n    setMovie({ ...movie, [name]: value });\n  }\n\n  return (\n    <div className='form-group'>\n        <h1>Update Movie</h1>\n\n        <label>Name: </label>\n        <input\n            type=\"text\"\n            name=\"name\"\n            value={movie.name}\n            onChange={gestionarCampo}\n        />\n\n        <label>Rating: </label>\n        <input\n            type=\"number\"\n            name=\"rating\"\n            step=\"0.1\"\n            lang=\"en-US\"\n            min=\"0\"\n            max=\"10\"\n            pattern=\"[0-9]+([,\\.][0-9]+)?\"\n            value={movie.rating}\n            onChange={gestionarCampo}\n        />\n\n        <label>Time: </label>\n        <input\n            type=\"text\"\n            name=\"time\"\n            value={movie.time}\n            onChange={gestionarCampo}\n        />\n\n        <button onClick={handleUpdateMovie}>Update Movie</button>\n        <button><Link to=\"/movies/list\">Cancel</Link></button>\n    </div>\n  )\n}\n\nexport default MoviesUpdate\n"]},"metadata":{},"sourceType":"module"}